 from ashok biochemistry cwru edu ashok aiyar subject setting up a slip client under dos and windows long organization cwru school of medicine lines four six eight distribution comp nntp posting host axa one two slip dialin cwru edu summary how to get slip going on your pc keywords slip phone cslipper winqvt net i have been posting monthly how to setup a slip client on a pc posts for a few months lots of work and imminent graduation have come in the way of posting one of these for march or earlier this month for which i apologize this file includes information on writing a script for university of minnesota phone and also a batch file hack that lets you use other packet drivers with phone for additions modifications and corrections i can be reached at best wishes ashok begin slip txt based on my experiences on setting up slip under dos and windows here are my comments on setting up slip in this environment i thank the trumpet beta testers and the cwru slip beta testers for their comments configuring your modem a turn off dtr at d zero w i have to disable dtr because the communication program that i use to dial my slip server qmodem drops dtr when i exit the program and therefore hangs up the line if you use a program like kermit or conex to establish the slip connection then this need not be done these programs do not necessarily hangup the line when you exit note if you use univ of minn phone to dial and establish a slip connection you do not need to turn off dtr b dial and establish the slip connection first this can be done automatically if you use a program like phone from the university of minnesota which will dial and establish a slip connection then load the slip packet driver the phone scripting language is simple and phone scripts can be easily written to configure phone to work with other slip server in addition while the only packet driver that phone works with is umslip currently it is easy to write a batch file hack that lets phone work with other packet drivers there is a section on phone in the document with both script and batch file examples configuring the slip drivers there are five slip packet drivers commonly available cslipper exe peter tattam s compressed slip driver slipper exe peter tattam s slip driver slip eight two five zero com crynwr driver i like phil burn s modified driver ethersl com crynwr driver ethernet simulation over slip umslip com univ of minnesota driver based on slip eight two five zero of these four i vastly prefer c slipper exe over slip eight two five zero com or ethersl com for the following reasons a it is much faster even though my modem has just a one six four five zero uart b while using etherslip slip eight two five zero umslip myself and several others have noticed that the pc clock gets messed up after performing a long ftp transfer c it supports pktmux when used in ethernet simulation mode d when used in ethernet simulation mode c slipper seem to work with every tcp ip application that i have tested it with instructions for c slipper exe and you do not use phone a load slipper in your autoexec bat file according to instructions for instance if you have a v three two bis modem on com one slipper com one vec six two baud five seven six zero zero b if you use dos tcp ip applications in win three one dos boxes then use the double ended packet driver shim winpkt com this creates a virtual packet driver at zero x six zero dos applications in native mode dos applications in windows three one dos boxes and windows applications can all use this virtual driver at zero x six zero winpkt com zero x six zero zero x six two c if you use qvt net load pktint com next qvt net is configured in qvtnet ini to use the interrupt at zero x six zero pktint com instructions for slip eight two five zero com a try getting a version one zero slip driver philip burns of northwestern university has a modified slip eight two five zero com driver that is better at hardware handshaking this driver is distributed along with nupop b load the driver after establishing the slip connection my modem is a v three two bis modem on com one so here is how i would load the driver slip eight two five zero w zero x six two h four slip zero x zero three f eight five seven six zero zero c as discussed above if you use dos tcp ip applications in windows three x dos boxes you probably want to use winpkt com winpkt com zero x six zero zero x six two d if you use winqvt net load pktint com pktint com instructions for ethersl com if you choose to use ethersl com instead of slip eight two five zero com the instructions are exactly the same with one crucial difference you will have to delete the line device vcd from the three eight six enh section of system ini this will interfere with running regular windows comm applications such as crosstalk and you will get lots of dropped characters etc in these applications this is therefore not recommended etherslip would be loaded as ethersl w zero x six two h four zero x zero three f eight five seven six zero zero configuring windows three one a make the following modifications to the system ini file three eight six enh section i list all your com ports with their addresses and interrupts com one base zero three f eight com one irq four com two base zero two f eight com two irq three com three base zero three e eight com three irq five this can also be done from within windows control panel but double clicking on the ports icon ii give the port to which your modem is attached a generous com buffer com one buffer one zero zero zero zero iii change the com port autoassign value for the com port that you wish to use for your modem to zero this is the amount of time that windows waits in seconds before handing control of that com port to another application if you use winqvt net and then want to switch from one session to another and this value is at the default value of two seconds you are will get a gpf and windows will crash com one autoassign zero this can also be done from within windows control panel double click on three eight six enhanced and under device contention set the device contention for the com port your modem is on to never warn additional notes what to do if you are assigned a different ip address for each slip session i am fortunate in that our campus slip server assigns each user a permanent ip address so i do not have worry about editing qvtnet ini each time that i establish a slip connection if you are assigned a new ip address on every occasion that you dial in please try to use bootp aware software and let bootp do the configuration for you however qvtnet is not bootp aware and rarp will not work over a slip connection to get qvtnet working in a situation such as this you must do the following edit the qvtnet ini file let the net section look like this net name ip netmask two five five two five five two five five zero or whatever is appropriate for you arptime two zero packet vector six zero or whatever is appropriate save the changes and then write protect this file attrib r qvtnet ini start your slip connection and remember the name and ip address that you are assigned each time you start qvt net three one x the general configuration dialog box will open enter the name and ip address and you were assigned for that session click on ok and you should be up and running the changes you make will not be saved as qvtnet ini is write protected a more elegant solution to the problem of dynamic slip ip address assignment is provided by victor menayang victor ccwf cc utexas edu victor uses the program bootpq to semi automate qvtnet preparation bootpq is used to inquire the assigned ip which is then saved to a file called myip another file noip is essentially a complete qvtnet ini file that lacks the ip address in the final step myip and noip are copied into a single qvtnet ini file an example of victor s batch file is provided below slipper com two pktint com bootpq i ip s myip bootpq i my ip is s copy q net myip noip e com qvtnet qvtnet ini del q myip echo off echo echo ready to run winqvtnet for questions and more details about bootpq please contact victor menayang victor ccwf cc utexas edu qpc software is attempting to add bootp capability to winqvt net how do you use pktmux over slip pktmux will not work over the slip eight two five zero com packet driver and crashes immediately if used with ethersl com pktmux will work with c slipper exe when c slipper is used in ethernet simulation mode an example of this configuration is shown below the latest release of pktmux is one two c and it is important that you use this version if you want to use virtual packet drivers with applications like trumpet for windows to be released very shortly from autoexec bat lh c slipper com one vec six five baud five seven six zero zero ether packet driver lh pktmux five six five five pktmux loaded for five virtual packet drivers lh pktdrv seven f six five first virtual packet driver used for qvt net lh pktint com qvt net pktint com pktdrv six three six five pktdrv for use in native dos or wintrumpet additional virtual packet drivers can be loaded directly from within windows three one dos boxes for example my pif file to load popmail is directed to the file popmail bat this is what popmail bat reads like pktdrv six zero six five loads a virtual packet driver at zero x six zero cd popmail popmail cd pktdrv six zero u unloads the packet driver at zero x six zero exit causes the dos window to close i have similar batch files that load other dos tcp ip applications like pc gopher it is my experience that pktmux works fine even if the virtual packet drivers in two independent virtual dos sessions are loaded at the same software interrupt for example within two different dos boxes one for popmail and the other for gopher the virtual packet driver pktdrv is loaded at zero x six zero in each instance how much does pktmux degrade the performance of c slipper i have a v three two bis v four two bis modem in a three eight six three three running windows three one with a reasonably fast video card ati graphics ultra under these conditions when i have three virtual packet drivers loaded and being used as follows a driver at zero x seven f qvtnet ftp client session b driver at zero x six zero in one dos window cutcp tn three two seven zero session c driver at zero x six zero in another dos window trumpet for dos i get ftp transfer rates of zero eight one zero kb sec while transferring compressed files this rate is comparable to that which i get with slip eight two five zero loaded as a packet driver and where a single tcp ip session is active if cslipper is used a packet driver and a single session is active i get transfer rates of one three one four kb sec on the same files while there is about four zero degradation in the performance of slipper for me the benefits of being able to use pktmux outweigh the performance hit c slipper and ethernet simulation mode in ethernet simulation mode c slipper ver one three works with all the applications that i have tested it with one or two applications that required ethernet simulation balked at c slipper one two but even these rare problems have been resolved with ver one three when slipper is used in ethernet simulation mode and used with pktmux i get some an error message in the qvtnet console window that reads ip incorrect packet type or ip bad version number this does not seem to prevent qvtnet from functioning although i cannot comment on loss of performance what can you do if your dos tcp ip application does not work with c slipper in ethernet simulation mode in the rare event that you find a package that does not work with c slipper in ethernet simulation mode first contact the author peter tattam peter psychnet psychol utas edu au and let him know chances are that he can fix it in the meanwhile you can try the following i do not know if it is kosher but it worked when i had problems with c slipper ver one two c slipper is loaded at zero x six two as described above under the pktmux section i load ethersl com at zero x six zero run the application and then terminate ethersl com this also works within windows three one virtual dos boxes however a packet driver like ethersl can be used in only one virtual dos box at a time so for example here is my batch file to run grateful med a medical reference retrieval program developed at the national library of medicine ethersl w zero x six zero h four zero x zero three f eight five seven six zero zero loads etherslip cd gm six search cd termin zero x six zero terminates etherslip exit closes the dos box and returns me to windows if you use this method be cautious about one thing don t have any active pktmux dos sessions open at the same time after closing the ethersl window you can run your pktmux dos sessions with no problem btw the example above grateful med works with no problems with c slipper ver one three phone script files the documentation that accompany phone provide good instructions on writing script files to get phone to dial slip servers other than the university of minnesota server for example here is a script that i use to dial a cisco server at the university that i attend background to start a slip connection i dial our terminal server and login with a username and password after doing so i start a slip session with the following command slip username slip dialin cwru edu followed by my password again here then is the relevant portion of the phone cmd script file cwru ts two slip login script by ashok aiyar three two six nine three last revised three two eight nine three procedure host cwru login timeout six zero cwru ts two terminal server is not responding message cwru ts two slip login script version one one message waiting for slip server to respond quiet on expect verification message request for user verification received from cwru ts two message sending your user name and password quiet off expect username send u send slip nul phone force hangup goto unload slipper termin zero x six zero rem the following line must be changed to reflect the com port rem irq baud rate and software interrupt lh c packet cslipper com one vec six zero baud five seven six zero zero ether goto end forced termin zero x six zero umslip nul phone force dial goto slipper setup termin zero x six zero umslip nul phone setup goto help unload termin zero x six zero goto end bogus echo one is not a valid command echo try cwruslip help for a list of valid commands echo help echo echo case western reserve university slip setup echo using univ of minnesota phone echo echo cwruslip setup modem settings phone number username etc echo echo cwruslip dial dial and establish the slip connection echo cwruslip quit hangup the phone and unload the driver echo cwruslip help this screen echo end end cwruslip bat where to get what peter tattam s programs are archived at ftp utas edu au c slipper and the trumpet set of programs winqvt net is generally archived at most windows ftp sites including ftp cica indiana edu ncsa telnet is archived at ftp ncsa uiuc edu nupop is archived at ftp acns nwu edu popmail pc slipdisk phone and pc gopher are archived at boombox micro umn edu end slip txt ashok aiyar mail ashok biochemistry cwru edu department of biochemistry tel two one six three six eight three three zero zero cwru school of medicine cleveland ohio fax two one six three six eight four five four four