 subject re entrancy of xlib functions known problem from visser eedwsa itwol bhp com au martin visser distribution world nntp posting host eedwsa itwol bhp com au lines two seven i ve found a problem in the use of xlib functions regarding re entrancy i decided to implement an animated cursor using six created cursors by calling xdefinecursor from a sig alrm signal handler this is used to indicate we are waiting for a operator request to complete on a production control system i was redrawing the screen underneath the animated cursor and then restoring the standard cursor when complete i found dumped core and upon analysis it was when the sig alrm handler was called during a xdrawstring call xdrawstring was doing a bcopy presumably an internal structure when the xdefinecursor was called presumably the internal structure that xdrawstring was manipulating was not in a stable state and sent xdefinecursor to where it shouldn t have been has anyone else experienced this is there any official documentation that says you should ensure this doesn t happen or should bcopy be atomic we are running on sgi irix four zero one with x one one r four regards martin martin visser electrical software engineer engineering technology department bhp steel slab and plate products division p o box one eight five four wollongong nsw two five zero zero australia phone six one four two seven five seven five two two ext six two zero seven fax six one four two seven five seven zero three eight e mail visser itwol bhp com au