 from gdmr dcs ed ac uk george ross subject twm greyscale organization department of computer science edinburgh university lines five five as distributed twm thinks everything with three or more colormap cells must be a colour screen here s a patch to have it use the screen s visual class twm c dist wed may one two one four five six five five one nine nine three twm c wed may one two one five four seven five three one nine nine three three four three three five two three four three three eight four scr xorvalue unsigned long one d depth one ifdef oldcode if displaycells dpy scrnum monochrome monochrome else scr monochrome color else xvisualinfo template xvisualinfo visualinfo int nitems template visual defaultvisual dpy scrnum template visualid xvisualidfromvisual template visual template screen scrnum visualinfo xgetvisualinfo dpy visualidmask visualscreenmask if nitems one switch visualinfo class case staticcolor case pseudocolor case truecolor case directcolor scr monochrome color break default scr monochrome monochrome break else void fprintf stderr d visual match es assuming mono n nitems scr monochrome monochrome assume endif setup default colors scr firsttime true george d m ross department of computer science university of edinburgh kings buildings mayfield road edinburgh scotland eh nine three jz mail gdmr dcs ed ac uk voice zero three one six five zero five one four seven fax zero three one six six seven seven two zero nine