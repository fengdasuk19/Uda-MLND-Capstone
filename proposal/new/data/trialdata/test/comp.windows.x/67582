 from steve ecf toronto edu steve kotsopoulos subject x on intel based unix frequently asked questions faq summary x options for intel based unix sysv three eight six three eight six bsd linux mach reply to steve ecf toronto edu organization university of toronto engineering computing facility expires tue one jun one nine nine three zero four zero zero zero zero gmt lines five three zero archive name intel unix x faq last modified three zero mar one nine nine three note this is a major re organization and replacement of my frequently asked questions about x three eight six faq list this article includes answers to i what options do i have for x software on my intel based unix system one free options two commercial options ii what is xfree eight six and where do i get it three what is xfree eight six four what oss are supported five what video hardware is supported six what about accelerated boards seven why doesn t xfree eight six support one six color vga modes eight what other hardware or software requirements are there nine where can i get source for xfree eight six one zero where can i get binaries for xfree eight six iv what general things should i know about running xfree eight six one one installation directories one two configuration files one three determining vga dot clocks and monitor modes one four rebuilding reconfiguring the server from the link kit v what os specific things should i know about running xfree eight six one five svr four one six svr three one seven three eight six bsd one eight linux one nine mach vi what things should i know for building xfree eight six from source vii is there anything special about building clients with xfree eight six two zero bsd compatibility library two one ansiccoptions this article does not include answers to general x questions since these are already covered by the x faq that is regularly posted by david b lewis if you have anything to add or change on the faq just let me know especially if you had a problem that someone else was able to help you with send changes to steve ecf toronto edu please put faq somewhere in the subject line so that my mail filter will put it in the correct mail folder please do not ask me questions that are not answered in the faq i do not have time to respond to these individually instead post your question to the net and send me the question and answer together when you get it frequently asked questions about x on intel based unix with answers i what options do i have for x software on my intel based unix system one free options the best option is xfree eight six which is an enhanced version of x three eight six one two any other version of x three eight six will have slower performance and will be more difficult to compile information on how to obtain xfree eight six is listed below x three eight six is the port of the x one one server to system v three eight six that was done by thomas roell roell sgcs com it supports a wide variety of svga boards there are two major free versions x three eight six one one is based on x one one r four x three eight six one two is included in mit s x one one r five distribution ie you don t need to patch it into the mit source any more x three eight six one three is the current commercial offering from sgcs see below two commercial options one metro link two two one three w mcnab road pompano beach fl three three zero six nine three zero five nine seven zero seven three five three fax three zero five nine seven zero seven three five one email sales metrolink com summary os qnx svr three svr four zero one two sco unixware lynxos desqview x venix isc solaris pyramid sunos hw ega vga svga tiga targa eight five one four a mach s three wd fujistu matrox microfield graphics r three three zero two zero other motif openlook xview xie imaging extension xv video extension audio drivers multi media two sgcs snitily graphics consulting services eight nine four brookgrove lane cupertino ca nine five zero one four eight zero zero six four five five five zero one four zero eight two five five nine six six five fax four zero eight two five five nine seven four zero email info sgcs com or mips zok info summary os svr three two svr four hw eight five one four a ati ultra s three diamond stealth svga other motif dual headed server three consensys corporation one three zero one pat booker rd universal city tx seven eight one four eight phone one eight zero zero three eight eight one eight nine six fax one four one six nine four zero two nine zero three email info consensys com summary os consensys v four two consensys version of unix system v release four two hw x one one r four server support for vga svga other moolit motif x one one r five clients four the santa cruz operation inc p o box one nine zero zero santa cruz california nine five zero six one four zero eight four two five seven two two two eight zero zero sco unix fax four zero eight four five eight four two two seven email info sco com summary os odt one one odt two zero sco unix three two v four hw x one one r four server support for svga eight five one four a s three tms three four zero x zero wd nine zero c three one xga two assorted local bus see sco hardware compatabilty guide for actual card vendors other motif five answer software see the readme svr four file for more information five support for ps two mice and logitech mouseman trackman some versions of these devices were not previously compatible six a new tutorial on how to develop correct video card and monitor timing data written by eric raymond derived from previous documentation and a lot of experimentation seven greatly improved support for international keyboards including implementation of the compose key functionality found on many vendor servers see the x three eight six keybd one manual page for more information eight the accuracy with which the server detects svga pixel clocks has been improved and the timings are now stored at accuracies of zero one mhz users may want to consider removing an existing clocks line from their xconfig file and re probing using the new server nine many enhancements in error handling and parsing of the xconfig configuration file error messages are much more informative and intuitive and more validation is done there are many new options that can be enabled in the xconfig file see the x three eight six one manual page for more information on the format of this file plus a number of other small things refer to the changelog file in the source distribution for full details also included are a tutorial on monitor timing by eric raymond and the current x three eight six mode database and a sample xdm configuration by david wexelblat four what oss are supported xfree eight six supports svr four two consensys v four two svr four zero microport dell esix isc at t mst consensys uhc svr three isc two two three zero at t two two linux mach three eight six three eight six bsd zero one bsd three eight six is not supported but it should work the most active bsd three eight six person is greg lehey note that esix three two d and sco are not supported yet but anyone should feel free to submit patches if you are interested in tackling this send mail to xfree eight six physics su oz au five what video hardware is supported at this time xfree eight six one two supports the following svga chipsets tseng et four zero zero zero tseng et three zero zero zero paradise pvga one western digital wd nine zero c zero zero wd nine zero c one zero wd nine zero c one one these are supersets of the pvga one and use its driver genoa gvga trident tvga eight nine zero zero c tvga nine zero zero zero ati one eight eight zero zero two eight eight zero zero all of the above are supported in both two five six color and monochrome modes with the exception of the ati chipsets which are only supported in two five six color mode the monochrome server also supports generic vga cards using six four k of video memory in a single bank and the hercules card on the et three zero zero zero only six four k of video memory is supported for the monochrome server and the gvga has not been tested with more than six four k it appears that some of the svga card manufacturers are going to non traditional mechanisms for selecting pixel clock frequencies to avoid having to modify the server to accommodate these schemes xfree eight six one two adds support for using an external program to select the pixel clock this allows programs to be written as new mechanisms are discovered refer to the readme clkprog file for information on how these programs work if you need to write one if you do develop such a program the xfree eight six team would be interested in including it with future xfree eight six releases if you are purchasing new hardware for the purpose of using xfree eight six it is suggested that you purchase an et four zero zero zero based board such as the orchid prodesigner iis avoid recent diamond boards xfree eight six will not work with them because diamond won t provide programming details in fact the xfree eight six project is actively not supporting new diamond products as long as such policies remain in effect contributions of code will not be accepted because of the potential liabilities if you would like to see this change tell diamond about it some people have asked if xfree eight six would work with local bus or eisa video cards theoretically the means of communication between the cpu and the video card is irrelevant to xfree eight six compatibility it could be isa eisa or local bus what should matter is the chipset on the video card unfortunately the developers don t have a lot of access to eisa or vlb machines so this is largely an untested theory however we have yet to see any reports of things not working on one of these buses and we have several reports of xfree eight six working fine on them six what about accelerated boards at this time there is no support in xfree eight six for accelerated boards like the s three ati ultra eight five one four a tiga etc this support is available in commercial products from sgcs and metrolink for svr three and svr four an s three server is available for three eight six bsd and linux contact for three eight six bsd or for linux a beta eight five one four a server is available for linux contact or note these servers are not part of xfree eight six seven why doesn t xfree eight six support one six color vga modes the reason that this is not supported is the way vga implements the one six color modes in two five six color modes each byte of frame buffer memory contains one pixel but the one six color modes are implemented as bit planes each byte of frame buffer memory contains one bit from each of each of eight pixels and there are four such planes the mit frame buffer code is not designed to deal with this if vga handled one six color modes by packing two four bit pixels into each byte the mit code could be modified to support this or it already may i m not sure but for the vga way of doing things a complete new frame buffer implementation is required some beta testers are looking into this but nothing is yet available from the project eight what other hardware or software requirements are there obviously a supported svga board and os are required to run x efficiently one two one six mb of memory should be considered a minimum the various binary releases take one zero four zero mb of disk space depending on the os e g whether or not it supports shared libraries to build from sources at least eight zero mb of free disk space will be required although one two zero mb should be considered a comfortable lower bound nine where can i get source for xfree eight six source patches for the current version one two based on x one one r five pl two two from mit are available via anonymous ftp from export lcs mit edu under contrib xfree eight six ftp physics su oz au under xfree eight six ftp win tue nl under pub xfree eight six for the rest of this faq these three location will be called ftp refer to the readme file under the specified directory for information on which files you need to get to build your distribution one zero where can i get binaries for xfree eight six binaries are available via anonymous ftp from ftp physics su oz au svr four binaries under xfree eight six svr four ftp win tue nl svr four binaries under pub xfree eight six svr four ferkel ucsb edu svr four binaries under pub svr four xfree eight six stasi bradley edu svr four binaries under pub xfree eight six svr four blancmange ma utexas edu svr three isc binaries under pub isc ftp prz tu berlin de svr three isc binaries under pub pc isc xfree eight six tsx one one mit edu linux binaries under pub linux packages x one one agate berkeley edu three eight six bsd binaries under pub three eight six bsd zero one ports xfree eight six ftp cs uwm edu mach binaries under i three eight six ensure that you are getting xfree eight six one two some of these sites may archive older releases as well each binary distribution will contain a readme file that describes what files you need to take from the archive and which compile time option selections were made when building the distribution iv what general things should i know about running xfree eight six one one installation directories the top level installation directory is specified by the projectroot usr x three eight six by default variable in config site def binaries include files and libraries are installed in projectroot this can be changed when rebuilding from sources and can be modified via symbolic links for those oss that support them this directory is nonstandard and was chosen this way to allow xfree eight six to be installed alongside a commercial vendor supplied x implementation one two configuration files the xfree eight six server reads a configuration file xconfig on startup the search path contents and syntax for this file are documented in the server manpage which should be consulted before asking questions one three determining vga dot clocks and monitor modes david e wexelblat dwex mtgzfs three att com maintains a database of known clock settings for vga cards and monitor settings the database is installed in usr x three eight six lib x one one etc modedb txt and is in the source tree under mit server ddx x three eight six etc this database is also available from him for the latest copy and is kept on export lcs mit edu in contrib x three eight six modedb z which is updated occasionally obtain a copy of this database it just might have the settings you need if you create new settings please send them to david for inclusion in the database if this doesn t help you the videomodes doc by eric raymond file with xfree eight six contains tutorials on how to come up with these timings it may be helpful to start with settings that almost work and use this description to get them right when you do send the information to david wexelblat for inclusion in the database note the old clock exe program is not supported any more and is completely unnecessary if you need to determine dot clock values for a new board remove the clocks line from your xconfig file if present and start the server the server will probe for clocks itself and print them out you can use these values to put a clocks line into your xconfig file which is not necessary but will speed up starting the server in the future one four rebuilding reconfiguring the server from the link kit if you have installed the server binary link kit it is possible to reconfigure the drivers and font renderers in the server this is fully explained in the readme file that is available with the link kit v what os specific things should i know about running xfree eight six first of all the server must be installed suid root mode four seven five five one five svr four why won t my xterm run properly if your kernel is not built with the consem module you should define consem no in you environment otherwise xterm won t run csh users should use setenv consem no the esix console driver patch four zero three zero one nine is known to cause keymapping problems with xfree eight six it recommended that this patch not be installed alternatively they keymap can be fixed with xmodmap one six svr three make sure you look at ftp readme isc if that s what you are running one seven three eight six bsd make sure you look at ftp readme three eight six bsd also a separate three eight six bsd faq is maintained by richard murphey the latest version should be available in the file xfree eight six one two three eight six bsd faq at the following ftp sites agate berkeley edu pub three eight six bsd zero one ports xfree eight six one two wuarchive wustl edu mirrors four three eight six bsd zero one ports xfree eight six one two grasp one univ lyon one fr pub three eight six bsd zero one ports xfree eight six one two one eight linux you must be running linux zero nine seven pl four or greater and have the four one gcc jump libraries installed make sure the binaries x three eight six x three eight six mono xload and xterm are setuid root if your kernel doesn t have tcp support compiled in you ll have to run the server as x pn the default startup configuration assumes that tcp is not available if it is change the two files usr x three eight six bin startx and usr x three eight six lib x one one xdm xservers removing the pn argument to x three eight six make sure dev console is either a link to dev tty zero or has the major number four minor number zero also note that if dev console is not owned by the user running x then xconsole and xterm will not permit console output redirection xdm will properly change the owner but startx won t when running xdm from rc local you will need to provide it with a tty for example xdm dev console for more detailed information please read the file readme present with the distribution on tsx one one mit edu one nine mach make sure you look at ftp readme mach vi what things should i know for building xfree eight six from source this section has been removed from the faq since it is fully explained in ftp readme and the os specific readmes please look at those files for information on building xfree eight six vii is there anything special about building clients with xfree eight six two zero bsd compatibility library a lot of clients make use of bsd functions like bcopy etc the default configuration files are set up to link with libxbsd a which contains emulation for bcopy bzero bcmp ffs random seed a better way of providing the b functions is to include in source files that call them xfuncs h provides macro definitions for these in terms of the sysv mem functions if you are linking with a vendor supplied library which calls some of these functions then you should link with libxbsd a two one ansiccoptions this is something that was added to allow a developer to get rid of the ansi ness defined in the default ccoptions without having to rewrite the entire ccoptions line for example with stock mit you d see something like ccoptions ansi o two fwritable strings and to get rid of the ansi ness the developer would have to put ccoptions o two fwritable strings in his imakefile with this change you would see a default of ansiccoptions ansi ccoptions o two fwritable strings and all the developer would have to put in the imakefile is ansiccoptions to get rid of the ansi ness many x clients will die a horrible death with ansi the effect is even more dramatic in practice because ccoptions is actually quite complex the other issue is that one must add ansiccoptions ansiccoptions to a passcdebugflags definition xfree eight six contact information ongoing development planning and support is coordinated by the xfree eight six core team at this time the core team consists of the original gang of four david dawes glenn lai jim tsillas david wexelblat those supporting non sysv operating systems robert baron mach rich murphey three eight six bsd orest zborowski linux e mail sent to will reach all of the core team thanks to all the people who already sent me corrections or additions especially david wexelblat one of the major contributors of updates steve kotsopoulos p eng mail steve ecf toronto edu systems analyst bitnet steve ecf utoronto bitnet engineering computing facility uucp uunet utai ecf steve university of toronto phone four one six nine seven eight five eight nine eight