 from pmartz dsd es com paul martz subject re two four bit static color will clients like it nntp posting host bambam reply to pmartz dsd es com paul martz organization evans sutherland computer corp salt lake city ut lines three eight in article roeber vxcrna cern ch frederick roeber writes i m writing an x server for some video generation equipment the hardware is truecolor in yuv space in x terms it has a two four bit static color visual i would really like to have the server just present this static visual but i m not sure if this will be acceptable to most x clients the three problems i see are one the colormap though huge is static two all pixels would be three bytes wide three because the hardware actually lives in yuv space the translation rgb yuv will introduce some rounding error we tried to ship an x server once that only supported a two four bit truecolor visual the main problems we encountered were one clients written with logic like the following if defaultdepth one assume default depth is eight bit these clients need an eight bit deep visual in the root window to run correctly two other clients didn t even bother to do that much and just outright assumed they had a dynamic visual class with a dynamic colormap xstorecolors doesn t work on cmaps associated with static or truecolor visual classes but many clients don t bother to check they just start throwing xstorecolor calls at you though both are clearly client error this is the case with so many clients that it s easier for you to expose eight bit pseudocolor as a default root window visual than it ever would be for all these client writers to change their clients to do the right thing paul pmartz dsd es com evans sutherland