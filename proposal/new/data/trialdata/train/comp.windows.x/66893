 from stolk fwi uva nl bram subject creating eight bit windows on two four bit display how organization fwi university of amsterdam lines seven five nntp posting host carol fwi uva nl greetings i am using an x server that provides three visuals pseudocolor eight bit truecolor two four bit and directcolor two four bit a problem occurs when i try to create a window with a visual that is different from the visual of the parent which uses the default visual which is tc two four in the xlib reference guide from o reilly one can read in the section about xcteatewindow something like in the current implementation of x one one when using a visual other than the parent s be sure to create or find a suitable colourmap which is to be used in the window attributes when creating or else a badmatch occurs this warning strangely enough is only mentioned in the newer editions of the x one one r five guides however even if i pass along a suitable colourmap i still get a badmatch when i create a window with a non default visual the code looks like this cut here and you ll destroy your crt window create eight bit window on truecolour display dpy width height display dpy int width height fprintf stderr using visual x n vinfo visual visualid cmap xcreatecolormap dpy defaultrootwindow dpy vinfo visual allocnone xsync dpy false xinstallcolormap dpy cmap ommision of this line gives same result attr colormap cmap win xcreatewindow dpy defaultrootwindow dpy one zero one zero width height copyfromparent border width eight depth inputoutput class vinfo visual visual cwcolormap return win cut here and you ll destroy your crt executing this piece of code results in a badmatch error anybody who knows why if so please drop me a line take care bram stolk stolk fwi uva nl